
# SSO单点登录
SSO：Single Sign On由单一站点提供认证授权的服务；

# OAuth2.0

OAuth协议：基于Rest API的委托授权框架，解决如何以一种安全的方式向第三方授权用户信息；(授权)


# 二维码登录
正常PC端登录，直接进行账号密码的认证即可获取Token之类的标识来完成登录；

二维码登录则是通过扫码，让手机进行授权，进而让PC端获取登录标识；2个要点：
- PC端的二维码要唯一，并于手机端的账户绑定授权；
- PC端需要感知登录状态；

登录步骤如下：

## 二维码生成
1、PC端选择登陆方式后，请求对应的服务器，生成唯一的二维码Id并返回；

2、同时服务端保存此唯一的二维码Id；并含有状态信息；

3、PC端根据唯一Id生成唯一的二维码；


## APP移动端登录方式
移动端可以依靠设备信息的唯一性，实现只需要一次登录；
1、首次登录会携带设备信息，账号密码，完成认证；服务端会绑定账号 + 设备信息，并下发Token
2、后续登录携带Token + 设备信息即可完成认证；

因此，手机扫码后，获取二维码的唯一Id + Token + 设备信息就可以让服务器确定是谁需要在PC端进行登录；

## PC端感知登录状态
手机端完成二维码的认证后，如何让PC端感知到登录状态的变化并获取Token？

1、轮询(长轮询)：定时查询服务端登陆状态，已登录则获取Token；也是两种实现：
- 服务端立即响应状态；(实现简单)
- 服务端阻塞等待状态变更，再响应；如果超时则客户端再次请求；(节省资源、后端需要配合)

2、WebSocket：后端感知状态变更，主动通知客户端；

